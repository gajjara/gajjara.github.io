## XCharge

**Problem:** 
Due to increasing energy demands and an increasing need for renewable energy, the concept of microenergy generation has come up. Here we explore the idea of microenergy generation (microenergy as in energy generation from everyday items) in the gaming industry; as a sizeable amount of energy is used due to the computing and user experience requirements.

**Goal:**
Our goal is to utilize the energy generated by a user when playing a game and reinvest some of that energy into itself and reduce battery consumption.

**Solution:**
Our solution is to utilize piezoelectrics and peltier tiles within a game controller to charge the controller battery.

### Background

Since peizoelectrics are materials that generate charge when stress is applied to them, as there is a displacement of charge. We can utilize this effect within the button, joystick, and triggers of a game controller, as these events can place stress on a piezoelectric.

The peltier effect is an effect that when there is a temperature gradient across two semiconducting junctions ( which one side is relatively hot and one side is relatively cold) then the semiconductor can generate charge. Due to the heat generated by a users hand on a controller, there is a potential for a peltier tile placed within a controller to be a secondary energy source.

<img src = "images/xcharge_background.png?raw=true"/>
Caption: Visualizations of the piezoelectric and peltier effect

### Our Design

Utilizing an Xbox controller as a prototype, we went about designing the ways to utilizie piezoelectrics and peltier tiles for charging the Xbox battery.

For the design we had the following considerations:
- The utilization of peiezoelectrics under the controllers main control buttons, its two joysticks, and its two main triggers
- The utilization of peltier tiles under the two palm grips of the controller, as there is where most of the heat is centered on the controller (as a user places their palms here)
- Simple circuitry for the regulation of output voltage from the piezoelectrics and peltier tiles

Given these considerations we came up with the following design for the placement of piezoelectrics within the game controller:

<img src = "images/xcharge_init_design.png?raw=true"/>
Caption: The design for the piezoelectrics, in which the blue highlights 3D printed parts, while the red highlihts the placement of piezoelectrics

We simply decided to place the piezoelectrics directly under the button, as this causes direct pressure on the piezoelectrics; while we decided to generate a newly 3D printed joystick, in which piezoelectric material is placed vertically on the side of the joystick, so that the horizontal displacement of the piezoelectrics causes charge generation.

This is the design for the new custom joysticks, in which the vertical insert on the top is for the joystick pad.

<img src = "images/xcharge_joystick_design.png?raw=true"/>
Caption: The custom joystick that we designed

The following image demonstrates the stresses a piezoelectric would from our redesigned joystick:

<img src = "images/xcharge_joystick_stress.png?raw=true"/>
Caption: A simulation of the potential stresses a peizoelectric would receive in our redesigned joystick

We wanted to regulate the voltage from the piezoelectrics and peltier tiles as this allowed a 'smoother' voltage signal to charge the Xbox controller battery

I devised the following circuit for each peltier tile and peizoeelctric. This circuit takes the AC signals from the piezoelectrics and peltier tiles and converts them into a mostly regulated DC voltage to charge the Xbox controller battery.
In the circuit diagram consists a: 
- The low pass filter removes high frequency noise and smoothes the AC voltage
- The diodes conver the AC signal into a DC signal
- The voltage divider allows for voltage division (we later removed this element of the circuit as generated signfignatly less voltage than expected)
- A voltage regulator IC for further voltage regulation

<img src = "images/xcharge_elec_design.png?raw=true"/>

We chose the resistance and capacitance values in the process of building the circuits as we wanted to adjust these values for the output voltages of the piezoelectrics and peltier tiles in the actual use of the controller.

### Predicting Energy Output
The next step for us was to collect data to get an estimate the energy output we would get from the piezoelectrics and peltier tiles.

We first conducted data connection on the RMS voltage and current outputs of the piezoelectric and peltier tile, the testing process was the following
- Test piezoelectrics by tapping
- Test peltier tiles by placing them on a heated bed of a 3-D printer
- Use multimeter to estimate the RMS voltage and current

This was the following result from the data collection:

<img src = "images/xcharge_ee_data.png?raw=true"/>
Caption: The data collected on the potential electrical energy from the peizoelectrics and peltier tiles

As shown, this data is not promising from an energy standpoint. From 6 hours of gameplay, the gamepad can only be charged by 0.084aH (given that there is no charge loss in the battery). This was not necessarily suprising to us, as there is a lack of high charge potential in the peizoelectric and peltier effect materials that we used. Nontheless, our scope of our project is prove that this concept is feasible, given improvements in the energy potential of peizoelectrics and peltier tiles.

We then collected data on the potential amount of events we would recieve from the Xbox controller. For this, I played 70 minutes of the FIFA 18 game, as this was a reasonable simulation of the typical button, joystick, and trigger events seen from gameplay.

Using a Raspberry Pi with the evdev Python library, I was able to store a text file of all the button events recieved during the 70 minutes of gameplay. 

<img src = "images/xcharge_gamepad_txt.png?raw=true"/>
Caption: the text file generated from reading events from the Xbox controller

I then conducted some text processing in Java to count the total amount of button, joystick, and trigger events (that showed a reasonable amount of displacement for energy generation). 

The image below is a flow chart of the overall data collection process:

<img src = "images/xcharge_flowchart.png?raw=true"/>
Caption: The flowchart for the data collection process on the potential energy output

This was the result of the data collection:

<img src = "images/xcharge_button_data.png?raw=true"/>
Caption: The data collected on trigger, joystick, and button events for button pressed

<img src = "images/xcharge_button_chart.png?raw=true"/>
Caption: The data collected on trigger, joystick, and button events for button pressed

While this data is not necessarily completely reflective of gameplay, this data shows us that there is not much need for piezoelectric placement on the joysticks and triggers; this is also a reosanble result, as for a signfigant amount of pressure to be placed on a piezoelectric, we found the joystick and triggers need at least 50% of its total displacement, and most events were less than 50% displacement.

Thus for our final design we went with the placement of piezoelectrics under the four main control buttons. We did not pursue a design for the D-pad buttons as there were no avalible piezoelectrics that could adjust to the size of the D-pad buttons.

### The Build and Final Design
Our final design consisted of the following
- Peizoelectrics located under the main control buttons (lettered buttons)
- Peltier tiles in the handles w/ holes drilled for airflow access
- Protoboards for holding voltage regulation circuitry
- Backwards diodes and resistors to prevent current from the battery flowing into the peltier tiles and piezoelectrics

The following images shows our build process:

<img src = "images/xcharge_build_1.png?raw=true"/>
Caption: Photo demonstrating our build

<img src = "images/xcharge_build_2.png?raw=true"/>
Caption: Photo demonstrating our build

<img src = "images/xcharge_build_3.png?raw=true"/>
Caption: Photo demonstrating our build

**Delay Data Collection**
One of the potential issues that we found with the additional of piezoelectrics, peltier tiles, and circuitry is that the button, trigger, and joystick events could be delayed. Using the same data collection process as above, but instead manually comparing the timings between the "on" and "off" events of button, trigger, and joystick events, we found the following results for delay:

<img src = "images/xcharge_delay.png?raw=true" />
Caption: The results of the data collected on estimating delay from addition of our components into the controller 

This data showed to us that we added some amount of delay to the controller, and since delay is not desired in gaming, this shows us that if our use of piezoelectrics and peltiers could generate a signfigant amount of energy, then the controller would have to be redesigned to account for the mechanical effects of peiezoelctrics and to add space for piezoelectrics and peltier tiles (and the circuitry that may come along with them).

This brings us to the constraints and future improvements of this project.

**Constraints/Problems**
- Material generates very little charge 
- Space within the controller to work with
- Negative effect on user experience
- Piezoelectric mechanics not built for the triggers and joysticks

**Future Improvements**
- Utilization of additional piezoelectric placement
- Utilization of PCBs for electrical organization and low space usage
- Flexible or custom designed peltier tiles
- Redesign for controller to include spacing for peltiers and piezoelectrics 
- Allow the design to be ready for manufacturing

**Reflection**
Our project was not necsasilry succesful in the sense that we could not charge the Xbox controller battery by any signfgiant amount. However, we succesfully proved that it is possible for microenergy elements to be present in a game controller, and given potential materials improvements, and optimization of the circuitry I devised for regulating the output voltages from the piezoelectrics and peltiers, it is possible in the future that a gamepad could be made that charges itself.

This project is part of a greater push for the utilization of new energy sources, and as stated above, microenergy generation is a part of that push. If microenergy systems are used in anything that could generate energy (i.e. door hinges, water pipes) there could be a reduced usage and reliablity on large power grids. This project, while not necessarily impactful on a large scale, is part of that push, and will allow at least one of us in the group to develop succesful (from an energy generation perspective) microenergy systems.
